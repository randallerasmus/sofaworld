(function(){function e(){this.eventHandlers={}}e.prototype.getOS=function(){var a=["Macintosh","MacIntel","MacPPC","Mac68K"],b=["Win32","Win64","Win16","Windows","WinCE"],f=["iPhone","iPad","iPod"],c=navigator.platform,d="";c&&(-1!==a.indexOf(c)?d="Mac":-1!==f.indexOf(c)?d="IOS":-1!==b.indexOf(c)?d="Windows":/Linux/.test(c)||/Android/.test(c)?d="Linux":d||(d="OtherOS"));return d};e.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")};e.prototype.outputToConsole=function(a,
b){if((embedded_svc.settings&&embedded_svc.settings.devMode||embedded_svc.menu&&embedded_svc.menu.settings.devMode)&&console&&console[a])console[a]("[Embedded-Service] "+(Array.isArray(b)?b.join(", "):b))};e.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))};e.prototype.error=function(a){a?this.outputToConsole("error",a):this.outputToConsole("error","unspecified error.")};e.prototype.warning=function(a){a?this.outputToConsole("warn","Warning: "+a):this.outputToConsole("warn",
"anonymous warning.")};e.prototype.deprecated=function(a,b){this.warning(a+" is deprecated in version "+Number(b).toFixed(1)+" and will be removed in version "+(Number(b)+1).toFixed(1))};e.prototype.isOrganizationId=function(a){return"00D"===this.getKeyPrefix(a)};e.prototype.getKeyPrefix=function(a){if(this.isValidEntityId(a))return a.substr(0,3)};e.prototype.isValidEntityId=function(a){return"string"===typeof a&&(18===a.length||15===a.length)};e.prototype.addEventHandler=function(a,b){a=a.toLowerCase();
this.eventHandlers[a]||(this.eventHandlers[a]=[]);this.eventHandlers[a].push(b)};e.prototype.fireEvent=function(a,b,f){a=this.eventHandlers[a.toLowerCase()];var c=[],d=f;!f||f instanceof Array||(d=[f]);a&&a.forEach(function(g){c.push(g.apply(void 0,d))});return b?b(c):!0};e.prototype.isCommunityOrSite=function(){return window.$A&&"function"===typeof window.$A.get&&window.$A.get("$Site")};e.prototype.loadScriptFromUrl=function(a,b,f){var c=document.createElement("script");c.type="text/javascript";
b&&(c.onload=b);f&&(c.onerror=f);c.src=a;document.body.appendChild(c)};e.prototype.generateResourceUrl=function(a,b){return a+"/resource/"+b};e.prototype.isMatchingCustomizationFound=function(a,b){var f=!1;a.customizations&&Array.isArray(a.customizations)&&b&&"string"===typeof b&&((f=a.customizations.some(function(c){return c&&c.hasOwnProperty("name")?c.name===b:!1}))||embedded_svc.utils.log("No customizations with code settings name "+b+" found."));return f};e.prototype.processCustomizations=function(a,
b,f){var c;b=b.customizations.filter(function(d){return d.name===a});(b=0<b.length?b[0]:null)&&b.hasOwnProperty("resources")&&Array.isArray(b.resources)&&0<b.resources.length&&b.resources.forEach(function(d){d&&d.hasOwnProperty("type")&&d.type&&f.hasOwnProperty(d.type)&&"function"===typeof f[d.type]&&(c=f[d.type],c(d))})};e.prototype.getSiteEndpointUrl=function(a){return a.siteUrl?a.siteUrl:null};window.embedded_svc.utils=new e})();
