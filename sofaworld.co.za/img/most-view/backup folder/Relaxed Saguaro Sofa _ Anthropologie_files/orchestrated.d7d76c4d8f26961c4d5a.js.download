/*! an@3.36.1 7f55540 */
(window.ssWebpackJsonp=window.ssWebpackJsonp||[]).push([[44],{863:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return N}));var n=r(0),o=r(8);function i(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:r,value:e[r++]});else{var o=1,i="";if("?"===e[u=r+1])throw new TypeError('Pattern cannot start with "?" at '+u);for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0==--o){u++;break}}else if("("===e[u]&&(o++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at "+u);i+=e[u++]}else i+=e[u++]+e[u++];if(o)throw new TypeError("Unbalanced pattern at "+r);if(!i)throw new TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:i}),r=u}else{for(var a="",u=r+1;u<e.length;){var s=e.charCodeAt(u);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=e[u++]}if(!a)throw new TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:a}),r=u}else t.push({type:"CLOSE",index:r,value:e[r++]});else t.push({type:"OPEN",index:r,value:e[r++]});else t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});else t.push({type:"MODIFIER",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,o=void 0===n?"./":n,i="[^"+a(t.delimiter||"/#?")+"]+?",u=[],s=0,c=0,f="",l=function(e){if(c<r.length&&r[c].type===e)return r[c++].value},h=function(e){var t=l(e);if(void 0!==t)return t;var n=r[c],o=n.type,i=n.index;throw new TypeError("Unexpected "+o+" at "+i+", expected "+e)},p=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};c<r.length;){var d=l("CHAR"),v=l("NAME"),g=l("PATTERN");if(v||g){var y=d||"";-1===o.indexOf(y)&&(f+=y,y=""),f&&(u.push(f),f=""),u.push({name:v||s++,prefix:y,suffix:"",pattern:g||i,modifier:l("MODIFIER")||""})}else{var m=d||l("ESCAPED_CHAR");if(m)f+=m;else if(f&&(u.push(f),f=""),l("OPEN")){y=p();var b=l("NAME")||"",w=l("PATTERN")||"",E=p();h("CLOSE"),u.push({name:b||(w?s++:""),pattern:b&&!w?i:w,prefix:y,suffix:E,modifier:l("MODIFIER")||""})}else h("END")}}return u}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function u(e){return e&&e.sensitive?"":"i"}function s(e,t,r){return function(e,t,r){void 0===r&&(r={});for(var n=r.strict,o=void 0!==n&&n,i=r.start,s=void 0===i||i,c=r.end,f=void 0===c||c,l=r.encode,h=void 0===l?function(e){return e}:l,p="["+a(r.endsWith||"")+"]|$",d="["+a(r.delimiter||"/#?")+"]",v=s?"^":"",g=0,y=e;g<y.length;g++){var m=y[g];if("string"==typeof m)v+=a(h(m));else{var b=a(h(m.prefix)),w=a(h(m.suffix));if(m.pattern)if(t&&t.push(m),b||w)if("+"===m.modifier||"*"===m.modifier){var E="*"===m.modifier?"?":"";v+="(?:"+b+"((?:"+m.pattern+")(?:"+w+b+"(?:"+m.pattern+"))*)"+w+")"+E}else v+="(?:"+b+"("+m.pattern+")"+w+")"+m.modifier;else v+="("+m.pattern+")"+m.modifier;else v+="(?:"+b+w+")"+m.modifier}}if(f)o||(v+=d+"?"),v+=r.endsWith?"(?="+p+")":"$";else{var R=e[e.length-1],O="string"==typeof R?d.indexOf(R[R.length-1])>-1:void 0===R;o||(v+="(?:"+d+"(?="+p+"))?"),O||(v+="(?="+d+"|"+p+")")}return new RegExp(v,u(r))}(i(e,r),t,r)}function c(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=r.exec(e.source);o;)t.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=r.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,r){var n=e.map((function(e){return c(e,t,r).source}));return new RegExp("(?:"+n.join("|")+")",u(r))}(e,t,r):s(e,t,r)}var f,l=r(232),h=r(17),p=r(1);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}var m=function(){},b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},o=r.appRoutes,i=r.logger,a=r.moduleName,u=r.orchestratedRoutes,s=r.path;if(this._logger=i||console,!s)throw new Error("Must provide options.path to OrchestratedRouter");if(!o)throw new Error("Must provide options.appRoutes to OrchestratedRouter");if(this._appRoutes=o,this._currentComponent=Object(n.a)(u,"".concat(a,".component")),!this._currentComponent)throw new Error("No matching orchestrated module found: ".concat(a));this.push(s),this.registerListeners()}return y(e,null,[{key:"install",value:function(e){f!==e&&(f=e,e.mixin({beforeCreate:function(){if(this.$options.orchestratedRouter){var e=this.$options.orchestratedRouter;this._routerRoot=this,this._router=e,Object.defineProperty(this,"_route",{get:function(){return e.currentRoute}})}else Object(n.a)(this.$parent,"_routerRoot")&&(this._routerRoot=this.$parent._routerRoot)}}))}}]),y(e,[{key:"getMatchedComponents",value:function(){return this.currentComponent?[this.currentComponent]:[]}},{key:"push",value:function(e){if(this._route)this._logger.debug("Ignoring sebsequent OrchestratedRouter.push() to ".concat(e));else{this._logger.debug("Processing OrchestratedRouter.push() to ".concat(e));var t=d((e||"").split("#"),2),r=t[0],n=t[1],o=d(r.split("?"),2),i=o[0],a=o[1];this.updateRoute(i,a?"?".concat(a):"",n?"#".concat(n):"")}}},{key:"registerListeners",value:function(){function e(){var e=window.location,t=e.pathname,r=e.search,n=e.hash;this.updateRoute(t,r,n)}p.l&&(window.addEventListener("popstate",e.bind(this)),window.addEventListener("hashchange",e.bind(this)))}},{key:"updateRoute",value:function(e,t,r){this._route&&e===this._route.path&&t===this._route.query&&r===this._route.hash?this._logger.debug("Ignoring duplicate OrchestratedRouter route update",this._route):(this._route={fullPath:"".concat(e).concat(t||"").concat(r||""),path:e,params:{},query:Object(h.w)(t),hash:r||"",meta:function(){if(/^\/checkout\/.+/.test(e)&&!/\/order-confirmation/.test(e))return l.a;var t=this._appRoutes.find((function(t){return c(t.path).test(e)}));return Object(n.a)(t,"meta")||{}}.call(this)},this._logger.debug("New OrchestratedRouter currentRoute",this._route))}},{key:"beforeEach",value:function(){return m}},{key:"beforeResolve",value:function(){return m}},{key:"afterEach",value:function(){return m}},{key:"onReady",value:function(e){e()}},{key:"onError",value:function(){}},{key:"currentComponent",get:function(){return this._currentComponent}},{key:"currentRoute",get:function(){return this._route}}]),e}(),w=r(4),E=r(2);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var O={name:"FooterView",components:{UrbnLazyFooter:r(249).a},computed:R({},Object(w.e)(E.o,{language:function(e){return e.language}}))},x=r(3),_=Object(x.a)(O,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("UrbnLazyFooter",{attrs:{language:e.language}})}),[],!1,null,null,null).exports,C=r(13),A=r(87);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var k={name:"HeaderView",components:{UrbnHeader:r(248).a},computed:j({},Object(w.c)(C.b,["isCallCenter"]),{headerCacheKey:function(){var e=Object(A.c)(this.$store.state,this.$route.meta,this.isCallCenter);return this.$logger.debug("UrbnHeader cacheKey: ".concat(e," (Orchestrated)")),e},useSlimHeader:function(){return!0===Object(n.a)(this.$route,"meta.slimHeader")}}),mounted:function(){var e=this;this.loadUserProfile().catch((function(t){return e.$logger.error("Error loading user profile",t)}))},methods:j({},Object(w.b)({loadUserProfile:E.e}))},P=Object(x.a)(k,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("UrbnHeader",{attrs:{slim:e.useSlimHeader,includeModals:!0,cacheKey:e.headerCacheKey}})}),[],!1,null,null,null).exports;o.a.use(b);var $={header:{component:P},footer:{component:_}};function N(e,t,r,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(t)i=Object(n.a)(t,"query.path","/");else{var u=r.location,s=u.pathname,c=u.search,f=u.hash,h=new RegExp("^".concat(a));i="".concat(s.replace(h,"/")).concat(c).concat(f).replace("//","/")}return new b({appRoutes:l.c,logger:o,moduleName:e,orchestratedRoutes:$,path:i})}}}]);
//# sourceMappingURL=orchestrated.d7d76c4d8f26961c4d5a.js.map